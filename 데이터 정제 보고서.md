# 데이터 정제 보고서
## 데이터 소스
- 정제할 데이터 소개

2024 아시안컵 축구 경기 하이라이트 유튜브 영상 및 댓글  
https://www.youtube.com/watch?v=kW_z-NMuZIU

유튜브는 영상과 댓글을 모두 확인할 수 있음
최근 화제가 된 2024 아시안컵 경기중 경기 내용에 대한 다양한 긍부정적 반응이 나타난 경기의 영상과 댓글을 크롤링하여 수집함(pytube, selenium)



## 데이터 품질 문제점과 정제의 필요성

- 댓글 데이터는 띄어쓰기 오류, 비속어 많음
 의미있는 토큰화를 위해 형태소 분석을 해야 함



## 데이터 정제 방법
### 1. 영상 
1) 캡처 
   - 영상에서 200 프레임당 이미지 캡처 -> 원본이미지 96개 확보

2) 이미지 변환
   - 원본 이미지로부터 `binary`, `HSV`, `bright`, `edge` 의 변환처리 후 각각 파일을 저장

3) 색 추출
   - HSV로 색공간 변환
   - H(Hue)의 값을 조정하여 빨간색, 노란색 유니폼 색을 추출  

### 2. 댓글 - 자연어 처리 
1) 토큰화 
   -  okt 토크나이저 사용
      -  stem 파라미터를 활용한 `원형복원`
      -  norm 파라미터를 활용한 `비속어 처리`
   -  `불용어 처리`
   -  `명사, 형용사, 동사` 품사 추출<br/>

      선수 및 감독 이름  names 파일에 설정<br/>
      [('아시아', 'Noun'),<br/>
      ('역사상', 'Noun'),<br/>
      ('최고', 'Noun'),<br/>
      ('의', 'Josa'),<br/>
      ('선수', 'Noun'),<br/>
      ('“', 'Foreign')]<br/>
   - `env\Lib\site-packages\konlpy\java` 의 `name` 파일에 감독 및 선수이름 

2) 벡터화
   - TfIdf 사용
      - max_features=150 으로 하여 조회시 빈도수가 높은 토큰을 150개로 제한
      - min_df=10 으로 하여 빈도수가 10회 이하인 토큰은 생략
      - tokenizer=cleaning_okt 로 하여 Okt tokenizer를 사용
      - train set(80%), test set(20%)로 조정하여 fit, transform을 진행

## 결과 - 정제 전과 정제 후 변화결과 요약

### 1. 이미지    
1) 영상 캡처 : 200프레임당 이미지 캡처를 하여 96개의 이미지를 확보.
2) 이미지 변환 : `binary`, `HSV`, `bright`, `edge` 처리를 하여 각 96개의 이미지를 폴더에 각각 저장
3) 색 추출 : HSV로 변환 후 H의 값을 조정하여 (빨간색) (노란색) (빨간색, 노란색) 만 나오도록 함
4) project_output_img 폴더에 각각 96개의 이미지를 갖고 있는 `origin` `binary` `bright` `edge` `Red` `Yellow` `Red_Yellow` 폴더로 분류


### 2. 댓글 
- `특수문자 제거`, `비속어 처리`, `불용어 처리`, `특정 품사 추출` 등을 통한 데이터 정제
- 그래프를 통해 빈도수가 높은 순서대로 토큰을 시각화 함
- max_features의 값을 150으로 주어 빈도수 높은 토큰의 수를 150개로 제한하여 DataFrame으로 변형

   ```
   손흥민      3.163726
   프리킥      1.547459
   이형       1.399791
   조현우      1.330396
   명        1.320014
            ...   
   정도       0.000000
   전        0.000000
   모든       0.000000
   자랑스럽다    0.000000
   예술       0.000000
   ```
위와 같은 결과를 얻을 수 있음

## 향후 계획

- 축구 데이터에 컴퓨터 비전 도입. 딥러닝 활용<br/>
  - https://blogs.nvidia.co.kr/blog/ai-soccer-track160/

- 댓글들이 부정적인지 긍정적인지 분석. 텍스트 감정 분석 예측
  - https://velog.io/@dnr6054/NLP-sentiment-analysis-service